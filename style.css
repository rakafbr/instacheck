/* ==================== DESIGN TOKENS ==================== */
/* ---------- LIGHT MODE ---------- */
:root{
  /* Brand */
  --color-brand-100:#F3FCF4;
  --color-brand-300:#84EE8A;
  --color-brand-500:#34C759;
  --color-brand-700:#1A8F4E;
  --color-brand-900:#095F40;

  /* Background */
  --color-bg:#F5F7F8;
  --color-bg-soft:#F9FAFB;
  --color-surface:#FFFFFF;

  /* Text */
  --color-text:#222B45;
  --color-text-strong:#18203B;
  --color-text-muted:#58688F;

  /* Borders */
  --border:1.25px solid;
  --border-button:1.25px solid;
  --border-dropbox:1.25px dashed;
  --color-border:#DDE3EA;
  --radius-xl:100px;
  --radius-lg:16px;
  --radius-md:14px;
  --radius-sm:12px;

  /* Message */
  --danger:#FF383C;
  --succes:#34C759;
  --warning:#FFCC00;

  /* Effects */
  --shadow-xs:0 2px 6px rgba(0,0,0,0.04);
  --shadow-sm:0 2px 6px rgba(0,0,0,0.06);
  --shadow-md:0px 3px 12px rgba(0,0,0,0.10);
  --shadow-xl:0 20px 60px rgba(0,0,0,0.18);

  /* Typography */
  --text-xs:10px;
  --text-sm:12px;
  --text-md:14px;
  --text-lg:16px;
  --text-xl:18px;
  --text-xxl:20px;

  --regular:400;
  --medium:500;
  --semibold:600;
  --bold:700;
  --extrabold:800;

  color-scheme:light;
}

/* ---------- DARK MODE ---------- */
[data-theme="dark"]{
  /* Brand */
  --color-brand-100:#060A15;
  --color-brand-300:#84EE8A;
  --color-brand-500:#34C759;
  --color-brand-700:#1A8F4E;
  --color-brand-900:#095F40;

  /* Background / Surfaces */
  --color-bg:#090E1C;
  --color-bg-soft:#1B2534;
  --color-surface:#101729;

  /* Text */
  --color-text:#F9FAFB;
  --color-text-strong:#D1FAE5;
  --color-text-muted:#798593;

  /* Borders */
  --border:1.25px solid;
  --border-button:1.25px solid;
  --border-dropbox:1.25px dashed;
  --color-border:#283045;
  --radius-xl:100px;
  --radius-lg:16px;
  --radius-md:14px;
  --radius-sm:12px;

  /* Message */
  --danger:#FF383C;
  --succes:#34C759;
  --warning:#FFCC00;

  /* Effects */
  --shadow-xs:0 2px 8px rgba(0,0,0,0.35);
  --shadow-sm:0 4px 12px rgba(0,0,0,0.40);
  --shadow-md:0 10px 24px rgba(0,0,0,0.45);
  --shadow-xl:0 24px 70px rgba(0,0,0,0.55);
  --radius-xl:100px;
  --radius-lg:16px;
  --radius-md:14px;
  --radius-sm:12px;

  /* Typography */
  --text-xs:10px;
  --text-sm:12px;
  --text-md:14px;
  --text-lg:16px;
  --text-xl:18px;
  --text-xxl:20px;

  --regular:400;
  --medium:500;
  --semibold:600;
  --bold:700;
  --extrabold:800;

  color-scheme:dark;
}

/* ==================== BASE ==================== */
*{box-sizing:border-box}

body{
  font-family:"Sora";
  color:var(--color-text);
  background-color:var(--color-bg);
}

/* ==================== LAYOUT - HEAD ==================== */
.app{min-height:100vh}

.container{
  max-width:980px;
  margin:0 auto;
  padding:10px 20px 20px;
}

.topbar{
  max-width:980px;
  margin:0 auto;
  padding:16px 20px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:4px;
}

.brand__title{
  font-weight:var(--extrabold);
  font-size:var(--text-xxl);
  line-height:1.2;
  padding-bottom:2px;
}
.brand__sub{font-size:var(--text-md);color:var(--color-text-muted)}

.dataset{display:flex;align-items:center;gap:6px}
.dataset__label{font-size:var(--text-md);color:var(--color-text-muted)}

/* ==================== LAYOUT - PANEL ==================== */
.panel{
  background:var(--color-surface);
  border:var(--border) var(--color-border);
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow-xl);
  padding:16px;
}
.is-hidden{display:none}

.panel__head{margin-bottom:8px}
.panel__title{margin:0 0 4px 0;font-size:var(--text-lg);font-weight:var(--bold)}
.panel__desc{margin:0;color:var(--color-text-muted);font-size:var(--text-md)}

.block{margin-top:16px}
.block__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  margin-bottom:8px;
  flex-wrap:wrap;
}
.block__title{margin:0;font-size:var(--text-lg);font-weight:var(--bold)}
.block__actions{display:flex;gap:20px;flex-wrap:wrap}
.block__meta{display:flex;align-items:center}

/* ==================== COMPONENTS - PILL ==================== */
.pill{
  display:inline-flex;
  align-items:center;
  padding:6px 8px;
  border-radius:var(--radius-xl);
  font-size:var(--text-md);
  font-weight:var(--medium);
  border:var(--border) var(--color-border);
  background:var(--color-surface);
}
.pill--ok{color:var(--color-brand-500); background:var(--color-surface)}
.pill--color-text-muted{color:var(--color-text-muted)}

/* ==================== COMPONENTS - TAB ==================== */
.tabs{
  max-width:980px;
  margin:0 auto;
  padding:0 20px 6px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.tab{
  display:flex;
  border:var(--border) var(--color-border);
  background:var(--color-surface);
  gap:4px;
  padding:10px 12px;
  border-radius:var(--radius-sm);
  font-family:"Sora";
  font-weight:var(--semibold);
  font-size:var(--text-md);
  cursor:pointer;
  transition:all 0.7s ease-out;
}
.tab:hover{
  background:var(--color-brand-100);
  border-color:var(--color-brand-500);
  color:var(--color-text-strong);
}
.tab:is(:focus, .tab--active){
  background:var(--color-brand-500);
  border-color:var(--color-brand-500);
  color:var(--color-surface);
}

/* ==================== COMPONENT - BUTTON ==================== */
.btn{
  border-radius:var(--radius-xl);
  padding:10px 14px;
  font-family:"Sora";
  font-weight:var(--semibold);
  font-size:var(--text-md);
  cursor:pointer;
  border:var(--border-button);
  background:var(--color-surface);
  transition:all 0.8s ease;
}
.btn--primary{
  background:var(--color-brand-500);
  color:var(--color-surface);
  border-color:var(--color-brand-500);
}
.btn--primary:hover{
  background:var(--color-brand-700);
  border-color:var(--color-brand-700);
}
.btn--secondary{
  background:var(--color-surface);
  color:var(--color-brand-500);
  border-color:var(--color-brand-500);
}
.btn--secondary:hover{
  background:var(--color-brand-100);
  border-color:var(--color-brand-500);
}
.btn--wide{flex:1;min-width:200px}
.btn--tiny{padding:8px 12px;font-size:var(--text-sm)}
a.btn{text-decoration:none}

.cta-row{
  display:flex;
  gap:8px;
  margin-top:16px;
  flex-wrap:wrap;
}
.cta-row--left{justify-content:flex-start}

/* ==================== COMPONENT - TOAST ==================== */
.toast{
  position:fixed;
  top:16px;
  right:16px;
  z-index:9999;
  width:auto;
  border:var(--border) var(--color-border);
  background:var(--color-surface);
  border-radius:var(--radius-sm);
  box-shadow:var(--shadow-md);
  padding:10px 12px;
  display:none;
  transition:all 3s ease;
}
.toast.is-show{display:block}
.toast__row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:4px;
}
.toast__text{
  font-size:var(--text-sm);
  font-weight:var(--semibold);
  color:var(--color-text);
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.toast__bar{
  height:4px;
  background:rgba(0,0,0,.08);
  border-radius:var(--radius-xl);
  overflow:hidden;
  margin-top:8px;
}
.toast__fill{
  height:100%;
  width:100%;
  background:linear-gradient(
    90deg,
    #16a34a 0%,
    #22c55e 45%,
    #4ade80 100%
  );
  transform-origin:left;
  transform:scaleX(1);
}

/* ==================== COMPONENT - DROPBOX ==================== */
.dropbox{
  border:var(--border-dropbox) var(--color-border);
  background:var(--color-surface);
  border-radius:var(--radius-md);
  padding:12px;
  transition:box-shadow .15s ease, border-color .15s ease;
}
.dropbox.is-dragover{
  border-color:var(--color-brand-500);
  box-shadow:0 0 0 5px var(--color-brand-100);
}
.dropbox__label{
  font-size:var(--text-md);
  color:var(--color-text-muted);
  font-weight:var(--semibold);
  margin-bottom:10px;
}
.dropbox__row{
  display:flex;
  align-items:center;
  gap:10px;
}
.dropbox__btn{white-space:nowrap}
.dropbox__info{
  flex:1;
  min-width:0;
  display:flex;
  flex-direction:column;
  gap:3px;
}
.dropbox__name{
  font-size:var(--text-md);
  font-weight:var(--semibold);
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.dropbox__count{font-size:var(--text-sm);color:var(--color-text-muted)}
.dropbox__input{display:none}
.dropbox__hint{
  margin-top:10px;
  font-size:var(--text-sm);
  color:var(--color-text-muted);
}

/* ==================== COMPONENT - FORM ==================== */
.label{font-size:var(--text-md);color:var(--color-text-muted);font-weight:var(--bold)}

.textarea{
  width:100%;
  min-height:160px;
  border:var(--border) var(--color-border);
  border-radius:var(--radius-md);
  padding:14px;
  background:var(--color-surface);
  font-family:"Sora";
  font-size:var(--text-md);
  line-height:150%;
  outline:none;
  resize:vertical;
}
.textarea:focus{
  border-color:var(--color-brand-500);
  box-shadow:0 0 0 6px var(--color-brand-100);
}
.input{
  width:100%;
  border:var(--border) var(--color-border);
  border-radius:var(--radius-sm);
  padding:14px;
  background:var(--color-surface);
  font-family:"Sora";
  font-size:var(--text-md);
  outline:none;
}
.input:focus{
  border-color:var(--color-brand-500);
  box-shadow:0 0 0 4px var(--color-brand-100);
}
input::placeholder,
textarea::placeholder {
  font-family:"Sora";
  color:var(--color-text-muted);
}

.grid-2{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px 16px;
}

.fr-row{display:flex;flex-direction:column;gap:8px}

/* ==================== FEEDBACK ==================== */
.statline{
  font-size:var(--text-md);
  font-weight:var(--regular);
  color:var(--color-text-muted);
  text-align:right;
  white-space:nowrap;
  flex-grow:1;
}

.results{
  display:grid;
  gap:10px;
  margin-top:12px;
}

.card{
  border:var(--border) var(--color-border);
  border-radius:var(--radius-md);
  background:var(--color-bg-soft);
  padding:12px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
}
.card__left{
  display:flex;
  gap:12px;
  align-items:center;
  min-width:0;
}
.card__text{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width:0;
}
.card__title{
  font-weight:var(--bold);
  font-size:var(--text-md);
  word-break:break-word;
}
.card__sub{
  font-size:var(--text-sm);
  color:var(--color-text-muted);
  word-break:break-word;
}
.card__actions{
  display:flex;
  gap:8px;
  flex-shrink:0;
}

.result-icon{
  font-variation-settings:'FILL' 0,'wght' 600,'GRAD' 0,'opsz' 20;
  font-size:16px;
  line-height:1;
}

.badge{
  width:24px;
  height:24px;
  border-radius:var(--radius-xl);
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--color-surface);
  flex-shrink:0;
}
.badge--ok{background:var(--color-brand-500)}
.badge--no{background:var(--danger)}

/* ==================== DARK MODE ==================== */
.dark-mode-btn {
  position:fixed;
  bottom:20px;
  right:20px;
  width:52px;
  height:52px;
  background-color:var(--color-surface);
  border:none;
  border-radius:var(--radius-xl);
  font-size:24px;
  cursor:pointer;
  display:flex;
  justify-content:center;
  align-items:center;
  box-shadow:var(--shadow-md);
  transition:background-color0.3sease;
  z-index:1000;
  transition:border-radius 1s ease;
}
.dark-mode-btn:hover{
  border:var(--border) var(--color-border);
  border-radius:var(--radius-sm);
}
.dark-mode-btn .sun {
  display:none;
}
[data-theme="dark"] .dark-mode-btn {
  background-color:var(--color-surface);
}
[data-theme="dark"] .sun {
  display:block;
  animation:fadeIn 0.5s ease-out forwards;
}
[data-theme="dark"] .moon {
  display:none;
}
@keyframes fadeIn {
  from {
    opacity:0;
    transform:scale(0.3);
  }
  to {
    opacity:1;
    transform:scale(1);
  }
}
@keyframes fadeOut {
  from {
    opacity:1;
    transform:scale(1);
  }
  to {
    opacity:0;
    transform:scale(0.3);
  }
}

/* ==================== RESPONSIVE ==================== */
@media (max-width:760px){
  .grid-2{grid-template-columns:1fr}
  .container, .topbar, .tabs {padding:8px 12px 12px}
}